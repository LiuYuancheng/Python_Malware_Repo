#-----------------------------------------------------------------------------
# Name:        backdoorTrojanGlobal.py
#
# Purpose:     This module is used as a local config file to set constants, 
#              global parameters which will be used in the other modules.
#              
# Author:      Yuancheng Liu
#
# Created:     2010/08/26
# Version:     v0.1.2
# Copyright:   Copyright (c) 2023 LiuYuancheng
# License:     MIT License  
#-----------------------------------------------------------------------------
"""
For good coding practice, follow the following naming convention:
    1) Global variables should be defined with initial character 'g'
    2) Global instances should be defined with initial character 'i'
    2) Global CONSTANTS should be defined with UPPER_CASE letters
"""

import os, sys
import ConfigLoader

print("Current working directory is : %s" % os.getcwd())
DIR_PATH = dirpath = os.path.dirname(__file__)
print("Current source code location : %s" % dirpath)

# Init the fixed CONSTANTS
CONFIG_FILE_NAME = 'trojanConfig.txt'
# Host socket buffer size
BUF_SZ = 60000
# message string decode format
STR_DECODE = 'utf-8'
# Debug print flag
DEBUG_FLG = True

gGonfigPath = os.path.join(dirpath, CONFIG_FILE_NAME)
iConfigLoader = ConfigLoader.ConfigLoader(gGonfigPath, mode='r')
if iConfigLoader is None:
    print("Error: The config file %s is not exist.Program exit!" %str(gGonfigPath))
    exit()
CONFIG_DICT = iConfigLoader.getJson()

# Init the CONSTANTS from config file

#ACT_CODE = 'YCACTTROJAN'
ACT_CODE = CONFIG_DICT['ACT_CODE'] if 'ACT_CODE' in CONFIG_DICT.keys() else None

# UDP_PORT = 3003
UDP_PORT = int(CONFIG_DICT['UDP_PORT'])

# Report ID and port
# RPT_PORT = 3004
RPT_MD = CONFIG_DICT['RPT_MD']
RPT_IP = CONFIG_DICT['RPT_IP']
RPT_PORT = int(CONFIG_DICT['RPT_PORT'])

#-------<GLOBAL PARAMTERS>-----------------------------------------------------
iFunMgr = None
