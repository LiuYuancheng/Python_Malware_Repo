{% extends 'mgmbase.html' %}

{% block title %} Threats To MITRE ATT&CK AI-LLM Mapper {% endblock %}

{% block style%} {% endblock %}

{% block mgmContent %}

<ul class="list-group">
    <li class="list-group-item">
        <h3> Obfuscate Encoder</h3>
    </li>

    <li class="list-group-item">
        <div class="row">
            <div class="col-sm-6">
                <form>
                    <div id="content_2" style="display: block">
                        <label for="contents"> <code>Copy the source code in below text area:</code></label>
                        <button type="submit">Submit</button>
                        <textarea class="form-control" style="font-family: monospace;" rows="25" id="codeContents" name="codeContents">print("hello world")# command line
                        </textarea>
                    </div>
                </form>
            </div>
            <div class="col-sm-6">
                <form>
                    <div id="content_3" style="display: block">
                        <label for="contents"> <code>Obfuscated result:</code></label>
                        <textarea class="form-control" style="font-family: monospace;" rows="25" id="resultContents" name="resultContents", value="123">
                        </textarea>
                    </div>
                </form>
            </div>
        </div>
    </li>
</ul>


<script>
    $(document).ready(function() {
       $('form').submit(function(event) {
          event.preventDefault();
          $.ajax({
             type: 'POST',
             url: '/submit',
             data: $('form').serialize(),
             //success: function() {
               // $('#codeContents').val('');
              //  alert('Form submitted!');
             //}
          });
       });

       var socket = io();
       socket.on('connect', function () {
        socket.emit('cli_request', { data: 'I\'m connected!' });
        });

        // Test response received from server is handled here
        socket.on('result', function (msg) {
            console.log(msg.data);
            document.getElementById('resultContents').innerHTML = msg.data 
            //$('#resultContents').append(text(msg.data).html());
            })

    });


 </script>


{% endblock %}